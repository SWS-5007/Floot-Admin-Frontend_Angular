<ul class='breadcrumb'>
  <li class='breadcrumb-item'><a type="button" [routerLink]="['/supplier-admins']">Supplier Admins</a></li>
  <li class='breadcrumb-item'><a type="button" [routerLink]="['/supplier-admins', 'add-supplier-admin']">Add Supplier Admin Account</a></li>
</ul>

<div class='page-content-wrap'>
<h1>Add Supplier Admin Account</h1>
<div class="card" [formGroup]='addSupplierAdminForm'>
    <div class="card-header">
      Add Supplier Admin Account
    </div>
    <div class="card-body">
      <div *ngIf='displayEmailExistsModal' class='alert alert-danger'>
        This email address has already been registered.
        <a type="button" href='#' (click)='displayEmailExistsModal = false;' class='close'>&times;</a>
      </div>
      <div class="row">
        <div class="col-12 col-md-6">
          <div class="form-group">
              <label
              [class.text-danger]='(addSupplierAdminForm.controls.firstName.dirty && addSupplierAdminForm.controls.firstName.errors)'
              >First Name</label>
              <input formControlName='firstName' (change)='onUserInputEvent()' class="form-control" type="text" />
          </div>
      </div>
      <div class="col-12 col-md-6">
          <div class="form-group">
              <label
                  [class.text-danger]='(addSupplierAdminForm.controls.lastName.dirty && addSupplierAdminForm.controls.lastName.errors)'
              >Last Name</label>
              <input formControlName='lastName' (change)='onUserInputEvent()' class="form-control" type="text" />
          </div>
      </div>
      <div class="col-12 col-md-6">
          <div class="form-group">
              <label
                  [class.text-danger]='(addSupplierAdminForm.controls.email.dirty && addSupplierAdminForm.controls.email.errors)'
              >Email</label>
              <input formControlName='email' (change)='onUserInputEvent()' class="form-control" type="email" />
          </div>
      </div>
          <div class="col-12 col-md-6">
            <div class="form-group">
                <label
                [class.text-danger]='(addSupplierAdminForm.controls.password.dirty && addSupplierAdminForm.controls.password.errors)'
                >Password</label>
                <input formControlName='password' (change)='onUserInputEvent()' class="form-control" type="password" />
                <small>Passwords must be at least 6 characters, with 1 upper case, 1 lower caseand 1 number</small>
            </div>
        </div>
        <div class="col-12 col-md-6">
            <div class="form-group">
                <label
                [class.text-danger]='(addSupplierAdminForm.controls.passwordConfirmation.dirty && addSupplierAdminForm.controls.passwordConfirmation.errors)'
                >Confirm Password</label>
                <input formControlName='passwordConfirmation' (change)='onUserInputEvent()' class="form-control" type="password" />
            </div>
        </div>
          <div class="col-12 col-md-6">
            <div class="form-group">
                <label>Assigned Supplier</label>
                <select class="form-control" formControlName="assignedSupplier" (change)='onUserInputEvent()' >
                  <option *ngFor="let supplier of suppliers" [value]="supplier.id">{{ supplier.name ? supplier.name : "Not Found" }}</option>
                </select>
            </div>
        </div>
      </div>
    </div>
    <div class="card-footer">
      <button class="btn btn-primary float-right" [disabled]='!addSupplierAdminForm.valid || !validatePassword(addSupplierAdminForm.value.password)' (click)='addAdminAccount()'>Add Admin Account +</button>
    </div>
  </div>
</div>
